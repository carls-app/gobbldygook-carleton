/* eslint globals: "module" */
// Karma configuration

module.exports = function(config) {
	config.set({
		frameworks: ['mocha'],

		files: [
			// all files ending in ".test"
			'test/**/*.test.js',
			// each file acts as entry point for the webpack configuration
		],

		preprocessors: {
			// add webpack as preprocessor
			'test/**/*.test.js': ['webpack'],
		},

		// karma watches the test entry points (you don't need to specify the
		// entry option). webpack watches dependencies.

		// webpack configuration
		webpack: require('./.webpackrc'),

		webpackMiddleware: {
			// webpack-dev-middleware configuration
			// i. e.
			noInfo: true,
		},

		reporters: [
			'quiet',
		],

		plugins: [
			require('karma-chrome-launcher'),
			require('karma-firefox-launcher'),
			require('karma-mocha'),
			require('karma-webpack'),
			require('karma-quiet-reporter'),
		],
	})
}
