@require '../mixins/no-select'
@require '../mixins/heading-neutral'
@require '../mixins/add-button'
@require '../mixins/button--raised'
@require '../mixins/remove-button'
@require '../mixins/button--flat'

$year-title-size = 2em
$year-title-width = $year-title-size * 0.75 // no, I don't know why this is 0.75.

.add-year {
	+add-button($psuedo: '::before') { margin-right: 0.5em }
	button--raised()

	font-feature-settings: 'tnum'

	display: block
	width: 100%

	@media all and (max-width: $year-collapse-width) {
		width: "calc(100% - %s - %s)" % ($year-title-width $semester-spacing)
	}
}

.remove-year {
	remove-button()
	button--flat()

	@media all and (min-width: $year-collapse-width) {
		padding-top: 0
		padding-bottom: 0
		padding-right: 0.5em
		padding-left: 0.5em
		min-height: 0
	}

	position: absolute
	left: 0
	bottom: 2px

	width: 100%
	height: 28px

	opacity: 0

	@media all and (max-width: $year-collapse-width) {
		position: static

		width: auto
		height: auto
		opacity: inherit
	}
}

.year:hover .remove-year {
	opacity: 0.5

	&:hover {
		opacity: 1
	}
}

.year {
	margin-bottom: $page-edge-padding

	display: flex
	flex-flow: row nowrap
	@media all and (max-width: $year-collapse-width) {
		flex-flow: column nowrap
	}

	// Make sure to give the year title breathing room
	min-height: 105px

}

.year-title {
	no-select()

	display: flex
	flex-flow: row nowrap
	align-items: flex-start
	@media all and (max-width: $year-collapse-width) {
		align-items: center
		flex-flow: row nowrap
	}

	position: relative

	h1 {
		heading-neutral()

		width: $year-title-size
		transform: translateY(1em) rotate(90deg)
		white-space: nowrap

		@media all and (max-width: $year-collapse-width) {
			width: auto
			transform: none
			white-space: normal

			text-align: center
			flex: 1
		}
	}

	font-feature-settings: "tnum"

	line-height: 1em
	font-weight: 200
	font-size: 0.9em

	&:hover .remove-year {
		opacity: 1
	}
}
