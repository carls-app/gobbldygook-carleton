@import '../mixins/card';
@import '../mixins/progress-bar';
@import '../icons';

.area-of-study {
	@include card;

	margin-bottom: 0.75em;

	$progress-height: 4px;

	h1 {
		padding: $block-edge-padding * 1.5;
		padding-left: $block-edge-padding * 1.5;
		font-size: inherit;
		font-weight: 400;
		margin: 0;
		z-index: 1;
		position: relative;
		font-feature-settings: 'smcp';
	}

	& > .summary {
		padding-top: $progress-height / 2;
		position: relative;
		cursor: pointer;

		display: flex;
		flex-flow: row nowrap;
		justify-content: space-between;
		align-items: center;
	}

	progress {
		@include progress-track('blue');

		overflow: hidden;
		border-top-left-radius: 2px;
		border-top-right-radius: 2px;

		position: absolute;
		top: 0;
		left: 0;

		width: 100%;
		height: $progress-height;

		border: 0;

		&.hundred   { @include progress-track('green') }
		&.ninety    { @include progress-track('orange') }
		&.eighty    { @include progress-track('orange') }
		&.seventy   { @include progress-track('orange') }
		&.sixty     { @include progress-track('amber') }
		&.fifty     { @include progress-track('amber') }
		&.forty     { @include progress-track('amber') }
		&.thirty    { @include progress-track('amber') }
		&.twenty    { @include progress-track('red') }
		&.ten       { @include progress-track('red') }
		&.under-ten { @include progress-track('red') }
		&.zero      { @include progress-track('blue-gray') }
	}

	.summary > .details-marker       { display: none; }
	.summary::-webkit-details-marker { display: none; }
	.summary::-moz-details-marker    { display: none; }
	.summary::-ms-details-marker     { display: none; }
	.summary::details-marker         { display: none; }

	& > .summary::after {
		@include ionicon($ionicon-ios-more);

		font-size: 2em;
		position: absolute;
		right: 12px;
		top: $progress-height;
		// margin-right: 12px;
		// z-index: 1;

		// transition: 0.1s;
	}

	&.open > .summary::after {
		@include ionicon($ionicon-ios-more-outline);

		transform: rotate(90deg) scale(0.8);
	}

	&.loading > .summary::after {
		@include ionicon($ionicon-load-c);

		top: $progress-height * 2;
		animation: spin 1s infinite ease-in-out;
		font-size: 1em;
	}
}

.add-area-of-study {
	@include add-button($psuedo: '::before') {
		margin-right: 0.5em;
	}
	@include button--raised;

	min-height: 0;
	padding-top: 0.25em;
	padding-bottom: 0.25em;
	width: 100%;
	text-align: left;
	padding-left: $block-edge-padding * 1.5;

	text-transform: none;
	font-feature-settings: 'smcp';
	font-size: 0.85em;
}
