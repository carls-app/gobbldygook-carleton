@require '../mixins/card'
@require '../mixins/progress-bar'
@require '../icons'

.area-of-study {
	card()

	overflow: hidden
	margin-bottom: 0.75em

	$progress-height = 4px

	h1 {
		padding: $block-edge-padding * 1.5
		padding-left: $block-edge-padding * 1.5
		font-size: inherit
		font-weight: 400
		margin: 0
		z-index: 1
		position: relative
		font-feature-settings: 'smcp'

		font-family: $heading-font-stack
	}

	& > .summary {
		padding-top: $progress-height / 2

		position: relative
		cursor: pointer

		display: flex
		flex-flow: row nowrap
		justify-content: space-between
		align-items: center
	}

	progress {
		progress-track('blue')

		position: absolute
		top: 0
		left: 0

		width: 100%
		height: $progress-height

		border: 0

		&.hundred {
			progress-track('green')
		}
		&.ninety {
			progress-track('orange')
		}
		&.eighty {
			progress-track('orange')
		}
		&.seventy {
			progress-track('orange')
		}
		&.sixty {
			progress-track('amber')
		}
		&.fifty {
			progress-track('amber')
		}
		&.forty {
			progress-track('amber')
		}
		&.thirty {
			progress-track('amber')
		}
		&.twenty {
			progress-track('red')
		}
		&.ten {
			progress-track('red')
		}
		&.under-ten {
			progress-track('red')
		}
		&.zero {
			progress-track('blue-gray')
		}
	}

	& > .summary::after {
		ionicon($ionicon-ios-more)

		margin-right: 12px
		z-index: 1
		font-size: 2em

		transition: 0.1s
	}

	&.open > .summary::after {
		ionicon($ionicon-ios-more-outline)

		transform: rotate(90deg) scale(0.8)
	}

	&.loading > .summary::after {
		ionicon($ionicon-load-c)

		animation: spin 1s infinite ease-in-out
		font-size: 1em
	}
}

.add-area-of-study {
	+add-button($psuedo: '::before') { margin-right: 0.5em }
	button--raised()

	min-height: 0
	padding-top: 0.25em
	padding-bottom: 0.25em
	width: 100%
	text-align: left
	padding-left: $block-edge-padding * 1.5

	text-transform: none
	font-feature-settings: 'smcp'
	font-size: 0.85em
}
